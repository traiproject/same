# Verify topological execution order
exec same run --ci final
stdout '\[setup\] Starting\.\.\.'
stdout '\[setup\] ✓ Completed'
stdout '\[build\] Starting\.\.\.'
stdout '\[build\] ✓ Completed'
stdout '\[final\] Starting\.\.\.'
stdout '\[final\] ✓ Completed'

-- same.yaml --
version: "1"
project: test
tasks:
  setup:
    cmd: ["sh", "-c", "echo 'Setup complete' > setup.txt"]
    target: ["setup.txt"]
  
  build:
    cmd: ["sh", "-c", "cat setup.txt && echo 'Build complete' > build.txt"]
    input: ["setup.txt"]
    target: ["build.txt"]
    dependsOn: ["setup"]
  
  final:
    cmd: ["sh", "-c", "cat build.txt && echo 'Final step'"]
    input: ["build.txt"]
    dependsOn: ["build"]
